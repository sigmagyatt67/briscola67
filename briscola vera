#include <iostream>
#include <windows.h>
#include <cstdlib>
#include <stdio.h>
#include <stdlib.h>
#include <algorithm>
#include <ctime>
#include <vector>
#include <random>
#include <string>  

using namespace std;

struct mydata {
    int valorecarta;
    string segno;
};

void generaMazzo() { 
    srand(time(NULL));
    std::random_device rd;
    std::mt19937 g(rd());

    vector<mydata> v_mazzo; // Cambiato nome variabile

    for(int a=1; a<11; a++) {
	v_mazzo.push_back({a," Denari"});
}
    for(int b=1; b<11; b++) {
	v_mazzo.push_back({b," Bastoni"});
}
    for(int c=1; c<11; c++) {
	v_mazzo.push_back({c," Spade"});
}
    for(int d=1; d<11; d++) {
	v_mazzo.push_back({d," Coppe"});
}

    shuffle(v_mazzo.begin(), v_mazzo.end(), g);
    
    cout << "Mazzo generato e mescolato" << endl;
}

int main() {
    int scelta = 0;
    system("mode con: cols=120 lines=40");
    system("chcp 65001 > nul");

    do {
       	system("CLS");
		HANDLE hConsole = GetStdHandle(STD_OUTPUT_HANDLE);
		// 1. Mostra il menu all'utente
        SetConsoleTextAttribute(hConsole, FOREGROUND_RED | FOREGROUND_INTENSITY);
 
 std::cout << "                                  ____________________________________________________" << std::endl;
 std::cout << "                                 {                    Briscola                        }" << std::endl;                                                                                                                                               
 std::cout << "                                 {   Elia cortesi; Nicolo' Bedeschi; Gabriele Romano  }" << std::endl;
 std::cout << "                                 {____________________________________________________} "<< std::endl;
 
     SetConsoleTextAttribute(hConsole, FOREGROUND_GREEN | FOREGROUND_INTENSITY);
 std::cout << "-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_" << std::endl;
 std::cout << "    _                  ____  ______ _____  _____  _____  _____   _                          .-------.                   " << std::endl;
 std::cout << "   | |        /\\      |  _ \\|  __  \|_   _|/ ____|/ ____ / __  \\ | |          /\\             |67.--. |                   " << std::endl;
 std::cout << "   | |       /  \\     | |_) | |__) | | |  | (___ | |   | |  | | | |         /  \\            | (\\/)  |                  " << std::endl;
 std::cout << "   | |      / /\\ \\    |  _ <|  _  /  | |  |\___  \\| |     |  | | | |        / /\\ \\\           | :\\/:  |                   " << std::endl;
 std::cout << "   | |____ / ____ \\   | |_) | | \\ \\ _| |_ ____) || |___| |__| | | |____   / ____ \\\          | '--'67|                   " << std::endl;
 std::cout << "   |______/_/    \\_\\  |____/|_|  \\_\\_\_____|_____/\\_____|\\_____/ |______| /_/    \\_\\         `-------'                   " << std::endl;
 std::cout << "-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-      " << std::endl;
	
	
		//std::cout << "---| LA BRISCOLA |---" << std::endl;
std::cout << "                                                                                                                         " << std::endl;
std::cout << "                                                                                                                         " << std::endl;
        SetConsoleTextAttribute(hConsole, FOREGROUND_RED | FOREGROUND_GREEN | FOREGROUND_INTENSITY);
        cout << "\n1. Singolo ===> 1 vs 1" << endl;
        SetConsoleTextAttribute(hConsole, FOREGROUND_RED | FOREGROUND_INTENSITY);
        cout << "2. Doppio  ===> 2 vs 2" << endl;
        SetConsoleTextAttribute(hConsole, FOREGROUND_GREEN | FOREGROUND_INTENSITY);
        cout << "3. Cinque  ===> 2 vs 3 (a chiamata)" << endl;
        SetConsoleTextAttribute(hConsole, FOREGROUND_RED | FOREGROUND_GREEN | FOREGROUND_BLUE);
        cout << "4. Esci" << endl;
        
        cout << "\nINSERISCI LA MODALITA' DI GIOCO: ";
        cin >> scelta;

        // Gestione scelta
        switch (scelta) {
            case 1:
                cout << "Hai scelto l'Opzione 1, briscola 1 contro 1" << endl;
                generaMazzo();
                system("pause"); // Per vedere il messaggio prima del refresh
                break;
            case 2:
                cout << "Hai scelto l'opzione 2, briscola 2 contro 2" << endl;
                generaMazzo();
                system("pause");
                break;
            case 3:
                cout << "Hai scelto l'opzione 3, briscola a chiamata" << endl;
                generaMazzo();
                system("pause");
                break;
            case 4:
                cout << "Uscita..." << endl;
                break;
            default:
                cout << "Scelta non valida!" << endl;
                system("pause");
        }

    } while (scelta != 4); // Esce quando premi 4

    return 0;
}
